(()=>{"use strict";var e={192:(e,t,r)=>{r.d(t,{Z:()=>p});var i=r(645),n=r.n(i),s=r(667),a=r.n(s),o=r(456),u=r(657),c=r(637),d=r(933),h=n()((function(e){return e[1]})),l=a()(o),g=a()(u),M=a()(c),f=a()(d);h.push([e.id,'*{box-sizing:border-box;margin:0;padding:0;transition:all ease-in 100ms}body{display:flex;justify-content:space-between;align-items:center;width:100vw;height:100vh;text-align:center;font-family:"Noto Sans SC",sans-serif}main{display:flex;justify-content:center;align-items:center;width:50vw;height:100vh;background-color:#ffbb8d;flex-direction:column}main .title h1{font-size:50px;width:100%;padding:0 1em;background-color:rgba(255,255,255,.63);font-weight:700}main .title h2{font-size:16px;padding:5px 1em;margin:5% 0;background-color:rgba(255,255,255,.63);font-weight:300}main form{width:70%;margin:20px;text-align:left;display:flex;flex-direction:column}main form label{display:block;padding:1em;border:solid 1px #000;margin:1vh 0;cursor:pointer;font-weight:300;font-size:.9em}main form .radio-container:hover label{text-decoration:underline}main form button{cursor:pointer;padding:3% 10%;font-weight:700;font-size:1.7em;background-color:rgba(255,255,255,.63);border:none;margin:1vh 0}main form button:hover{text-decoration:underline}#root{display:flex;justify-content:center;align-items:center;width:50vw;height:100vh;background-color:#fad089}.board{width:35vw;height:35vw;line-height:0;margin:auto}.board .square{height:11.6666666667vw;width:11.6666666667vw;margin:0;background-color:#fff;border:solid 1px #fad089;display:inline-block}.board .square.active:hover{cursor:pointer;background-color:#fce3ba}.board .square.playerX{background-image:url('+l+");background-size:cover;background-repeat:no-repeat}.board .square.playerO{background-image:url("+g+");background-size:cover;background-repeat:no-repeat}.board .square.lose.playerX{background-image:url("+M+");background-size:cover;background-repeat:no-repeat}.board .square.lose.playerO{background-image:url("+f+");background-size:cover;background-repeat:no-repeat}@media(max-width: 750px){body{margin:0;display:block}main{height:100vh;width:100vw}main .title h1{font-size:40px}main .title h2{font-size:15px}#root{height:100vh;width:100vw;padding:5vh 0}.board{width:90vw;height:90vw;line-height:0;margin:auto}.board .square{height:30vw;width:30vw}}",""]);const p=h},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=e(t);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,i){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(i)for(var s=0;s<this.length;s++){var a=this[s][0];null!=a&&(n[a]=!0)}for(var o=0;o<e.length;o++){var u=[].concat(e[o]);i&&n[u[0]]||(r&&(u[2]?u[2]="".concat(r," and ").concat(u[2]):u[2]=r),t.push(u))}},t}},667:e=>{e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},695:e=>{var t={};e.exports=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}},379:e=>{var t=[];function r(e){for(var r=-1,i=0;i<t.length;i++)if(t[i].identifier===e){r=i;break}return r}function i(e,i){for(var s={},a=[],o=0;o<e.length;o++){var u=e[o],c=i.base?u[0]+i.base:u[0],d=s[c]||0,h="".concat(c," ").concat(d);s[c]=d+1;var l=r(h),g={css:u[1],media:u[2],sourceMap:u[3]};-1!==l?(t[l].references++,t[l].updater(g)):t.push({identifier:h,updater:n(g,i),references:1}),a.push(h)}return a}function n(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r.update(e=t)}else r.remove()}}e.exports=function(e,n){var s=i(e=e||[],n=n||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var o=r(s[a]);t[o].references--}for(var u=i(e,n),c=0;c<s.length;c++){var d=r(s[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}s=u}}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var i=r.css,n=r.media,s=r.sourceMap;n?e.setAttribute("media",n):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(i,e)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},657:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBmaWxsPSIjNjNkMGQ2IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiwyMyBDNS45MjQ4Njc3NSwyMyAxLDE4LjA3NTEzMjIgMSwxMiBDMSw1LjkyNDg2Nzc1IDUuOTI0ODY3NzUsMSAxMiwxIEMxOC4wNzUxMzIyLDEgMjMsNS45MjQ4Njc3NSAyMywxMiBDMjMsMTguMDc1MTMyMiAxOC4wNzUxMzIyLDIzIDEyLDIzIFogTTEyLDIxIEMxNi45NzA1NjI3LDIxIDIxLDE2Ljk3MDU2MjcgMjEsMTIgQzIxLDcuMDI5NDM3MjUgMTYuOTcwNTYyNywzIDEyLDMgQzcuMDI5NDM3MjUsMyAzLDcuMDI5NDM3MjUgMywxMiBDMywxNi45NzA1NjI3IDcuMDI5NDM3MjUsMjEgMTIsMjEgWiIvPgo8L3N2Zz4K"},933:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8cGF0aCBmaWxsPSIjOGY4ZjhmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMiwyMyBDNS45MjQ4Njc3NSwyMyAxLDE4LjA3NTEzMjIgMSwxMiBDMSw1LjkyNDg2Nzc1IDUuOTI0ODY3NzUsMSAxMiwxIEMxOC4wNzUxMzIyLDEgMjMsNS45MjQ4Njc3NSAyMywxMiBDMjMsMTguMDc1MTMyMiAxOC4wNzUxMzIyLDIzIDEyLDIzIFogTTEyLDIxIEMxNi45NzA1NjI3LDIxIDIxLDE2Ljk3MDU2MjcgMjEsMTIgQzIxLDcuMDI5NDM3MjUgMTYuOTcwNTYyNywzIDEyLDMgQzcuMDI5NDM3MjUsMyAzLDcuMDI5NDM3MjUgMywxMiBDMywxNi45NzA1NjI3IDcuMDI5NDM3MjUsMjEgMTIsMjEgWiIvPgo8L3N2Zz4K"},637:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHRyYW5zZm9ybT0icm90YXRlKDQ1KSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogIDxwb2x5Z29uIGZpbGw9ICIjOGY4ZjhmIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIHBvaW50cz0iMTMgMTEgMjIgMTEgMjIgMTMgMTMgMTMgMTMgMjIgMTEgMjIgMTEgMTMgMiAxMyAyIDExIDExIDExIDExIDIgMTMgMiIvPgo8L3N2Zz4K"},456:e=>{e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHRyYW5zZm9ybT0icm90YXRlKDQ1KSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogIDxwb2x5Z29uIGZpbGw9IiNmZjdhODMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgcG9pbnRzPSIxMyAxMSAyMiAxMSAyMiAxMyAxMyAxMyAxMyAyMiAxMSAyMiAxMSAxMyAyIDEzIDIgMTEgMTEgMTEgMTEgMiAxMyAyIi8+Cjwvc3ZnPg=="}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={id:i,exports:{}};return e[i](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e,t,i=r(379),n=r.n(i),s=r(795),a=r.n(s),o=r(695),u=r.n(o),c=r(216),d=r.n(c),h=r(192),l={styleTagTransform:function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},setAttributes:function(e){var t=r.nc;t&&e.setAttribute("nonce",t)},insert:function(e){var t=u()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}};l.domAPI=a(),l.insertStyleElement=d(),n()(h.Z,l),h.Z&&h.Z.locals&&h.Z.locals,function(e){e[e.playerX=0]="playerX",e[e.playerO=1]="playerO"}(e||(e={})),function(e){e[e.CORNER=0]="CORNER",e[e.EDGE=1]="EDGE",e[e.CENTER=2]="CENTER"}(t||(t={}));class g{constructor(e){this.id=e,this._isActive=!0,this._isWin=!1,this._isLose=!1,this._state=void 0,this._DOMRender=null}get state(){return this._state}set state(e){if(!this.isActive)throw new Error("Cannot place a move on an inactive square!");void 0===this._state&&(this._state=e,this.updateRender())}get isActive(){return this._isActive}set isActive(e){var t,r;this._isActive=e,!1===this.isActive&&(null===(t=this._DOMRender)||void 0===t||t.classList.remove("active"),null===(r=this._DOMRender)||void 0===r||r.replaceWith(this._DOMRender.cloneNode(!0)))}get isWin(){return this._isWin}set isWin(e){var t;if(e&&this.isLose)throw new Error("Square cannot win and lose at the same time.");this._isWin=e,!0===this.isWin&&(null===(t=document.getElementById(`square${this.id}`))||void 0===t||t.classList.add("win"))}get isLose(){return this._isLose}set isLose(e){var t;if(e&&this.isWin)throw new Error("Square cannot win and lose at the same time.");this._isLose=e,!0===this.isLose&&(null===(t=document.getElementById(`square${this.id}`))||void 0===t||t.classList.add("lose"))}render(e,t){const r=document.createElement("div");r.id=`square${this.id.toString()}`,r.classList.add("square"),r.classList.add("active"),r.classList.add(this.getClassState()),r.addEventListener("click",t,{once:!0}),this._DOMRender=r,e.appendChild(r)}getClassState(){switch(this.state){case e.playerX:return"playerX";case e.playerO:return"playerO";default:return"none"}}updateRender(){var e,t;null===(e=this._DOMRender)||void 0===e||e.classList.add(this.getClassState()),null===(t=this._DOMRender)||void 0===t||t.classList.remove("none")}}class M{constructor(){this._squareIDs=[0,1,2,3,4,5,6,7,8],this._xSquares=[],this._oSquares=[],this._freeSquares=[...this._squareIDs],this._prevMove=null,this._currentTurn=e.playerX,this._curTurnNumber=1,this._curWinPattern=[],this._isGameOver=!1,this._isDraw=!1,this.boardSquares=this._squareIDs.map((e=>new g(e)))}get xSquares(){return this._xSquares}get oSquares(){return this._oSquares}get freeSquares(){return this._freeSquares}get prevMove(){return this._prevMove}get currentTurn(){return this._currentTurn}get curTurnNumber(){return this._curTurnNumber}get curWinPattern(){return this._curWinPattern}get isGameOver(){return this._isGameOver}set isGameOver(e){if(e&&0===this.curWinPattern.length&&this.xSquares.length+this.oSquares.length!==9)throw new Error("Game must be won or board must be full for the game to be over!");this._isGameOver=e}get isDraw(){return this._isDraw}set isDraw(e){if(e&&(!this.isGameOver||0!==this.curWinPattern.length))throw new Error("Game must conclude and no player must win for the game to draw!");this._isDraw=e}static getPositionTypeById(e){return 4===e?t.CENTER:0===e||2===e||6===e||8===e?t.CORNER:t.EDGE}getFreeSquaresByType(e){const r=[];if(e===t.CENTER&&this.freeSquares.includes(4))r.push(4);else if(e===t.CORNER){const e=[0,2,6,8];for(let t=0;t<e.length;t+=1)this.freeSquares.includes(e[t])&&r.push(e[t])}else if(e===t.EDGE){const e=[1,3,5,7];for(let t=0;t<e.length;t+=1)this.freeSquares.includes(e[t])&&r.push(e[t])}return r}findHorizontalWins(e){const t=[],r=e.sort(((e,t)=>e-t));for(let e=0;e<r.length-2;e+=1){const i=r[e]+1===r[e+1]&&r[e+1]+1===r[e+2],n=r[e]%3==0&&r[e+1]%3==1&&r[e+2]%3==2;i&&n&&t.push(r.slice(e,e+3))}return t}findVerticalWins(e){const t=[];for(let r=0;r<3;r+=1){const i=e.filter((e=>e%3===r));3===i.length&&t.push(i)}return t}findDiagonalWins(e){const t=[],r=e.filter((e=>0===e||4===e||8===e));3===r.length&&t.push(r);const i=e.filter((e=>2===e||4===e||6===e));return 3===i.length&&t.push(i),t}findWins(e){const t=new Set(e),r=[];for(const e of t)r.push(e);return[...this.findHorizontalWins(r),...this.findVerticalWins(r),...this.findDiagonalWins(r)]}playerMove(t,r){if(!this.freeSquares.includes(t))throw new Error("Player cannot occupy a previously occupied square!");if(r!==this.currentTurn)throw new Error("Player can only move when it is their turn!");r===e.playerX?this.xSquares.push(t):this.oSquares.push(t),this._freeSquares=this.freeSquares.filter((e=>e!==t)),this._prevMove=t,this._curTurnNumber+=1,this._curWinPattern=[...this.findWins(this.xSquares),...this.findWins(this.oSquares)],0!==this.curWinPattern.length?this.isGameOver=!0:0===this.freeSquares.length&&(this.isGameOver=!0,this.isDraw=!0),this.boardSquares[t].state=r,this.boardSquares[t].isActive=!1,this.currentTurn===e.playerX?this._currentTurn=e.playerO:this._currentTurn=e.playerX,this.isGameOver&&this.gameOverHandler()}gameOverHandler(){const e=new Set;for(let t=0;t<this.curWinPattern.length;t+=1)e.add(this.curWinPattern[t][0]),e.add(this.curWinPattern[t][1]),e.add(this.curWinPattern[t][2]);this.boardSquares.forEach((t=>{t.isActive=!1,e.has(t.id)?t.isWin=!0:t.isLose=!0}))}render(e){const t=document.createElement("div");t.classList.add("board"),this.boardSquares.forEach((e=>{e.render(t,(()=>{this.playerMove(e.id,this.currentTurn)}))})),e.appendChild(t)}}class f{constructor(t,r){this.playerID=t,this.board=r,this.AIMove=()=>{this.board.isGameOver||this.board.currentTurn!==this.playerID||this.board.playerMove(this.getMove(),this.playerID)},t===e.playerX?(this._myMoves=r.xSquares,this._opponentMoves=r.oSquares):(this._myMoves=r.oSquares,this._opponentMoves=r.xSquares),document.querySelectorAll(".square").forEach((e=>{e.addEventListener("click",this.AIMove)})),this.AIMove()}}class p extends f{getMove(){const e=Math.floor(Math.random()*this.board.freeSquares.length);return this.board.freeSquares[e]}}class v extends f{getMove(){const r=this.findCompletingPatterns(this._myMoves);if(0!==r.length)return r[0];const i=this.findCompletingPatterns(this._opponentMoves);if(0!==i.length)return i[0];if(4===this.board.curTurnNumber&&this.playerID===e.playerO&&0!==this.board.getFreeSquaresByType(t.EDGE).length&&M.getPositionTypeById(this.board.xSquares[0])===t.CORNER&&M.getPositionTypeById(this.board.xSquares[1])===t.CORNER)return this.board.getFreeSquaresByType(t.EDGE)[0];const n=this.findFork(this._myMoves);if(void 0!==n)return n;const s=this.findFork(this._opponentMoves);if(void 0!==s)return s;if(0!==this.board.getFreeSquaresByType(t.CENTER).length)return this.board.getFreeSquaresByType(t.CENTER)[0];const a=[[0,8],[2,6],[6,2],[8,0]];for(let e=0;e<a.length;e+=1)if(this.board.freeSquares.includes(a[e][0])&&this._opponentMoves.includes(a[e][1]))return a[e][0];return 0!==this.board.getFreeSquaresByType(t.CORNER).length?this.board.getFreeSquaresByType(t.CORNER)[0]:this.board.freeSquares[0]}completePattern(e){if(0!==this.board.findWins(e).length)throw new Error("Occupied squares must not have a winning pattern already!");for(let t=0;t<this.board.freeSquares.length;t+=1){const r=this.board.freeSquares[t],i=[...e,r];if(0!==this.board.findWins(i).length)return r}}findCompletingPatterns(e){if(0!==this.board.findWins(e).length)throw new Error("Occupied squares must not have a winning pattern already!");const t=[];for(let r=0;r<this.board.freeSquares.length;r+=1){const i=this.board.freeSquares[r],n=[...e,i];0!==this.board.findWins(n).length&&t.push(i)}return t}findFork(e){if(0!==this.board.findWins(e).length)throw new Error("Occupied squares must not have a winning pattern already!");for(let t=0;t<this.board.freeSquares.length;t+=1){const r=this.board.freeSquares[t],i=[...e,r];if(this.findCompletingPatterns(i).length>=2)return r}}}const m=document.getElementById("game-mode");if(null==m||m.addEventListener("submit",(t=>{t.preventDefault(),function(t){const r=document.getElementById("root");r.innerHTML="";const i=new M;switch(i.render(r),t){case"HvH":break;case"HvDAI":new p(e.playerO,i);break;case"DAIvH":new p(e.playerX,i);break;case"HvSAI":new v(e.playerO,i);break;case"SAIvH":new v(e.playerX,i);break;default:console.log("error")}}(document.querySelector('input[name="game-mode"]:checked').value)})),window.innerWidth<=750){const e=document.querySelector("main form button");null==e||e.addEventListener("click",(()=>{window.scrollTo({top:window.innerHeight,left:0,behavior:"smooth"})}))}})()})();